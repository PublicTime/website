<!DOCTYPE html>
<html lang="en">

<head>
  <title>What Goes Into Deployment? - Blog | PublicNTP</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="PublicNTP provides unrestricted access to no-cost, highly-accurate time sources for the public good.">
  <meta name="keywords" content="Network, Time, Server, NTP, Network Time Server, public, publicntp, stratum, stratum 1, stratum 2, ntp.org, deployment, network time foundation, ntf,  reference, ntp reference implementation, unrestricted access, no-cost, highly-accurate, time sources, foundation, continent, global, wordwide, learn, connect, follow">
  <meta name="robots" content="index, follow">
  <meta name="referrer" content="always">
  <meta name="web_author" content="Dan Noland, Terry Ott, Scott Waddell, Brad Woodfin">
  <meta name="language" content="English">
  <meta property="og:title" content="What Goes Into Deployment? - Blog | PublicNTP">
  <meta property="og:site_name" content="PublicNTP">
  <meta property="og:locale" content="en_US"> 
  <meta property="og:description" content="As of this writing, all of PublicNTP’s deployed time servers are virtual (i.e., running in the cloud) -- except for Salt Lake City, because Scott is a  fan of turning things up to 11. This approach has served us well so far. It’s becoming clear that we’re reaching the point of diminishing returns for cloud deployments. In the underserved countries we’re now trying to target, cloud just won’t be an option.">   <meta property="og:image" content="http://dev.publicntp.org/images/checklist_deployment.jpg">  
  <meta property="og:image:secure_url" content="http://dev.publicntp.org/images/checklist_deployment.jpg">    
  <meta property="og:image:alt" content="Checklist"> 
  <meta property="og:url" content="http://dev.publicntp.org/blog/posts/What-Goes-Into-Deployment.html"> 
  <meta property="og:type" content="website">
  <meta name="msapplication-config" content="../../images/browserconfig.xml">

  <!-- Google Tag Manager OLD -->
  <!-- <script>(function (w, d, s, l, i) {
      w[l] = w[l] || []; w[l].push({
        'gtm.start':
          new Date().getTime(), event: 'gtm.js'
      }); var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
          'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-PLGMHRG');</script> -->
  <!-- End Google Tag Manager -->


  <link rel="shortcut icon" type="image/png" href="../../images/favicon.png">
  <link rel="icon" type="image/x-icon" href="../../images/favicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="150x150" href="../../images/mstile-150x150.png">
  <link rel="manifest" href="../../images/site.webmanifest">
  <link rel="icon" type="image/png" sizes="192x192" href="../../images/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="../../images/android-chrome-512x512.png">
  <link rel="mask-icon" href="../../images/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#2d89ef">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="../../css/base.css">
  <script defer src="../../js/jquery-2.1.4.min.js"></script>
  <link rel="canonical" href="http://dev.publicntp.org/blog/posts/What-Goes-Into-Deployment.html">
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe sandbox="allow-scripts" src="https://www.googletagmanager.com/ns.html?id=GTM-PLGMHRG" height="0" width="0" class="hide"></iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div class="wrap">
    <div class="main">
      <div class="header__mobile-wrap">
        <img class="header__mobile-x" id="mobile-close" src="../../images/x-light.svg" alt="Close">
        <a href="../../people.html" class="header__item-mobile">People</a>
        <a href="../../blog.html" class="header__item-mobile">Blog</a>
        <a href="../../history.html" class="header__item-mobile">History</a>
        <a href="../../governance.html" class="header__item-mobile">Governance</a>
        <a href="../../learn.html" class="header__item-mobile header__connect">Learn</a>
        <div class="node-clear"></div>
        <a href="../../connect.html" class="header__item-mobile header__connect">Connect</a>
        <div class="node-clear"></div>
        <a href="../../donate.html" class="header__item-mobile header__connect">Donate</a>
        <div class="node-clear"></div>
      </div>
      <header class="header">
        <a href="../../">
          <div class="logo__wrap">
            <div class="logo">
              <div class="logo__inner">
                <div class="logo__center">
                  <div class="logo__minute logo__rotate">
                    <div class="logo__minute-ball"></div>
                  </div>
                  <div class="logo__hour logo__rotate">
                    <div class="logo__hour-orb">
                      <div class="logo__hour-ball"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <h1 class="logo__title">PublicNTP</h1>
          </div>
        </a>

        <div class="flex__wrapper">
          <div class="flex__end">
            <a href="../../donate.html" class="header__item header__connect" tabindex="0">Donate</a>
            <a href="../../connect.html" class="header__item header__connect" tabindex="0">Connect</a>
            <a href="../../learn.html" class="header__item header__connect" tabindex="0">Learn</a>
          </div>
          <div class="header__wrapper">
            <a href="../../blog.html" class="header__link">Blog</a>
            <a href="../../people.html" class="header__link">People</a>
            <a href="../../history.html" class="header__link">History</a>
            <a href="../../governance.html" class="header__link">Governance</a>
          </div>
        </div>

        <img class="header__mobile-icon" id="mobile-icon" src="../../images/list-menu.svg" alt="Menu">

      </header>
      <div class="home__section">
	<a href="../../blog.html" class="blog-detail__back">
		Back
		<img class="blog-detail__back-icon" src="../../images/back.svg" alt="Back Arrow">
	</a>
</div>
<div class="home__section">
	<h1 class="home__title">What Goes Into Deployment?</h1>
</div>
<div class="home__section">
	<p class="blog-detail__time blog-detail__time-main">
		<b>February</b> 18, 2019
	</p>
	<div class="blog-detail__side">
		<img class="blog-detail__image" src="../../images/checklist_deployment.jpg"  alt="Checklist">
		<div class="node-clear"></div>
	</div>
	<div class="blog-detail__swiper swiper-container">
		<div class="swiper-wrapper">
			<img class="blog-detail__simage swiper-slide" src="../../images/checklist_deployment.jpg" alt="Checklist"> 
		</div>
		<div class="swiper-pagination"></div>
	</div>
	<div class="blog-detail__content">
		<p class="blog-detail__time blog-detail__time-mobile">
			<b>February</b> 18, 2019
		</p>
		<div class="blog-detail__article">
			<h4><a href='/people.html#brad-woodfin'>Brad Woodfin</a></h4><p>As of this writing, all of PublicNTP’s deployed time servers are virtual (i.e., running in the cloud) -- except for Salt Lake City, because Scott is a  fan of turning things up to 11. This approach has served us well so far. It’s becoming clear that we’re reaching the point of diminishing returns for cloud deployments. In the underserved countries we’re now trying to target, cloud just won’t be an option.</p><p>Before we talk about the deployment avenues that remain viable for us, let’s take a minute to “talk stratums.”</p><p>If you read up on Network Time Protocol (NTP), you’ll quickly hit the term “stratum,” which is followed by a number. You’ll see “stratum zero” servers, “stratum one” servers, etc.</p><p>What does that mean?</p><p>Stratum is a term to describe how close to an authoritative NTP time source a device is.</p><p>To oversimplify, you can view it as “the number of wires you need to cross before you can reach an authoritative time source.”</p><p>In other words, stratum zero servers are authoritative devices like GPS and other atomic clock sources -- no wires have to be crossed to reach the high-precision time source, they ARE the time source.</p><p>Devices like a Linux server connected directly to a stratum zero device is considered a stratum one device (there’s “one wire” from the server to its GPS receiver). The math follows on down the stratum tiers: if a stratum two device obtains its time from stratum one servers (usually across the Internet).</p><p>The cool thing is that using NTP, devices can connect to multiple sources of time -- meaning that a stratum two servers can be querying multiple stratum one servers. That web of connections allows a device that’s two steps removed from an “authoritative” source to be much more reliable, as it can “double-check” the answers it’s getting from multiple upstream sources</p><p>All the PublicNTP servers (other than Utah!) are stratum two servers.  We sync to at least five stratum one sources, which keeps them within 1 and 10 milliseconds of the international time standard. So far we’ve been very pleased with the results. Deploy a server in developed parts of the world with major cloud infrastructure, such as Europe or East Asia and you’ll find a plethora of upstream time sources to ensure your clocks are accurate.</p><p>When PublicNTP set out to deploy in lesser-developed regions of the world, we figured that NTP would still be resilient enough to be able to work well.</p><p>That was a tad optimistic -- at least with our definition of NTP when it’s “working well.” :)</p><p>Turns out that absolutely everything is stacked against having highly-accurate time in much of the world. For example, we deployed a virtual server in Lagos, Nigeria. Through this process, we discovered first-hand how the severe lack of terrestrial cables across Africa turned out to be a huge obstacle. If you looked at the path of all data traveling out of Lagos through our time server, the only two paths we had access to were submarine fiber optic cabling to either South Africa OR London.</p><p>When you pause to <a href='https://www.submarinecablemap.com/'>look at a map</a>, that’s an enormous distance to cross even for data moving at the speed of light. Testing quickly showed we couldn’t get more accurate than 100 milliseconds from UTC, due to lack of upstream time sources within several thousand miles from Nigeria.</p><p>For humans, a tenth of a second is almost negligible. But for digital infrastructure that requires synchronization within 1/1,000th of a second or better, it was a rough situation.</p><p>We quickly realized we were facing a situation that our current approach wasn’t going to work with.</p><p>Enter <strong><a href='/blog/posts/Project-Ikenga.html'>Project Ikenga</a></strong> and <strong>Project Tonatiuh</strong>: PublicNTP’s first two physical deployment campaigns. We’ll talk specifically about both of these projects in future articles but in short, we realized that <strong>we</strong> had to bring our own stratum one sources, as there weren’t any in the region which could make stratum two servers viable. Pursuing physical deployments come with their own brain teasers which we’ve been digging into for the last several months.</p><p>PublicNTP is excited to continue expanding our deployment footprint, installing our servers wherever they’re most needed. After hundreds of (combined) hours investigating physical deployments, we’ve gradually developed a checklist of sorts that we use to try and quickly vet the viability of a potential deployment location. Watch for an article coming soon that breaks that checklist down -- and consider yourself invited to help us improve it.  It continues to improve, but like everything about this project, it can only get better!</p>
		</div>
	</div>
</div>

<div class="home__section"></div>
<div class="home__section"></div>

<script defer src="../../js/swiper.min.js"></script>
<link rel="stylesheet" href="../../css/swiper.min.css">
<script defer src="../../js/swipe.js" async></script>

    </div>
    <footer class="footer">
      <div class="footer__wrap">
        <div class="footer__sites">
          <h3 class="footer__other-title">
            Other Great NTP Sites
          </h3>
          <a href="http://www.pool.ntp.org/en/" target="_blank" class="footer__other-link" tabindex="0">NTP Pool</a>
          <a href="http://www.ntp.org/" target="_blank" class="footer__other-link" tabindex="0">NTP</a>
          <a href="https://networktimefoundation.org" target="_blank" class="footer__other-link" tabindex="0">Network
            Time
            Foundation
          </a>
        </div>
        <div class="footer__sites">
          <h3 class="footer__other-title">
            Contact Info
          </h3>
          <span class="footer__other-link">PublicNTP, Inc.</span>
          <span class="footer__other-link">1405 S Fern St #90372</span>
          <span class="footer__other-link">Arlington VA 22202-2810</span>
          <span class="footer__other-link">+1 (703) 651-2996</span>
        </div>
        <div class="footer__right">
          <h3 class="footer__title">
            Learn how you can connect and help, or follow us on LinkedIn.
          </h3>
          <div class="flex">
            <a href="../../connect.html" class="footer__connect" tabindex="0">Connect</a>
            <a href="https://linkedin.com/company/publicntp/" target="_blank" tabindex="0">
              <div class="svg-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48" alt="LinkedIn Logo" role="img">
                  <title>LinkedIn</title>
                  <g class="nc-icon-wrapper" fill="#818181">
                    <path class="svg-linkedin" d="M46,0H2C0.9,0,0,0.9,0,2v44c0,1.1,0.9,2,2,2h44c1.1,0,2-0.9,2-2V2C48,0.9,47.1,0,46,0z M14.2,40.9H7.1V18 h7.1V40.9z M10.7,14.9c-2.3,0-4.1-1.8-4.1-4.1c0-2.3,1.8-4.1,4.1-4.1c2.3,0,4.1,1.8,4.1,4.1C14.8,13,13,14.9,10.7,14.9z M40.9,40.9 h-7.1V29.8c0-2.7,0-6.1-3.7-6.1c-3.7,0-4.3,2.9-4.3,5.9v11.3h-7.1V18h6.8v3.1h0.1c0.9-1.8,3.3-3.7,6.7-3.7c7.2,0,8.5,4.7,8.5,10.9 V40.9z" />
                  </g>
                </svg>
              </div>
            </a>
            <a href="https://github.com/PublicNTP">
              <div class="svg-wrapper github">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120.78 117.79" alt="Github Logo">
                  <title>Github</title>
                  <circle class="github_circle" cx="61" cy="61" r="58"></circle>
                  <path class="github_path" d="M60.39,0A60.39,60.39,0,0,0,41.3,117.69c3,.56,4.12-1.31,4.12-2.91,0-1.44-.05-6.19-.08-11.24C28.54,107.19,25,96.42,25,96.42c-2.75-7-6.71-8.84-6.71-8.84-5.48-3.75.41-3.67.41-3.67,6.07.43,9.26,6.22,9.26,6.22,5.39,9.23,14.13,6.57,17.57,5,.55-3.9,2.11-6.56,3.84-8.07C36,85.55,21.85,80.37,21.85,57.23A23.35,23.35,0,0,1,28.08,41c-.63-1.52-2.7-7.66.58-16,0,0,5.07-1.62,16.61,6.19a57.36,57.36,0,0,1,30.25,0C87,23.42,92.11,25,92.11,25c3.28,8.32,1.22,14.46.59,16a23.34,23.34,0,0,1,6.21,16.21c0,23.2-14.12,28.3-27.57,29.8,2.16,1.87,4.09,5.55,4.09,11.18,0,8.08-.06,14.59-.06,16.57,0,1.61,1.08,3.49,4.14,2.9A60.39,60.39,0,0,0,60.39,0Z"/>
                </svg>
              </div>
            </a>
            <a href="https://smile.amazon.com/ch/82-2301559">
              <div class="svg-wrapper amazon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="2.675 1.337 512.693 512.412" alt="AmazonSmile Logo">
                  <title>AmazonSmile</title>
                  <g id="g4641" transform="matrix(1, 0, 0, 1, 2.966171, 1.708591)">
                    <path class="Amazon_rect" d="M64,0h384c35.347,0,64,28.654,64,64v384c0,35.347-28.653,64-64,64H64 c-35.346,0-64-28.653-64-64V64C0,28.654,28.654,0,64,0z"/>
                    <path class="Amazon_a" d="M292.578,183.824c-9.683,0.765-20.854,1.502-32.021,3.006 c-17.12,2.211-34.24,5.219-48.386,11.907c-27.544,11.208-46.163,35.053-46.163,70.114c0,44.018,28.298,66.354,64.026,66.354 c11.93,0,21.606-1.466,30.522-3.71c14.156-4.481,26.07-12.67,40.209-27.596c8.192,11.205,10.413,16.428,24.575,28.338 c3.725,1.502,7.448,1.502,10.413-0.742c8.932-7.458,24.561-20.873,32.773-28.33c3.71-3.012,2.955-7.463,0.739-11.204 c-8.198-10.435-16.381-19.401-16.381-39.506v-67.131c0-28.359,2.214-54.453-18.614-73.822 c-17.123-15.687-43.93-21.642-64.77-21.642c-2.99,0-5.949,0-8.947,0c-37.965,2.247-78.169,18.635-87.122,65.629 c-1.462,5.955,3.012,8.198,5.989,8.962l41.677,5.224c4.471-0.773,6.691-4.491,7.432-8.233c3.74-16.388,17.136-24.583,32.024-26.087 c0.754,0,1.504,0,2.998,0c8.905,0,18.586,3.743,23.813,11.168c5.932,8.965,5.21,20.904,5.21,31.339v5.961H292.578z M292.578,227.102c0,17.162,0.723,30.571-8.195,45.461c-5.208,10.437-14.141,17.154-23.827,19.4c-1.481,0-3.698,0.766-5.947,0.766 c-16.371,0-26.077-12.673-26.077-31.334c0-23.856,14.159-35.056,32.023-40.277c9.687-2.241,20.86-2.982,32.021-2.982v8.966H292.578 z M429.71,404.303c18.201-15.398,25.89-43.349,26.29-57.939v-2.44c0-3.255-0.803-5.661-1.6-6.88 c-3.646-4.445-30.369-8.523-53.402-1.627c-6.468,2.045-12.146,4.865-17.396,8.507c-4.051,2.854-3.238,6.464,0.802,6.08 c4.447-0.823,10.126-1.208,16.594-2.048c14.159-1.18,30.742-1.592,34.784,3.662c5.642,6.87-6.468,36.868-11.749,49.838 C422.44,405.521,426.063,407.152,429.71,404.303L429.71,404.303z M58.008,346.364c52.17,47.404,120.925,75.775,197.791,75.775 c47.725,0,102.727-13.381,145.199-38.899c5.676-3.27,11.316-6.912,16.565-10.952c7.286-5.25,0.817-13.38-6.463-10.147 c-3.229,1.215-6.873,2.857-10.103,4.066c-46.539,18.248-95.441,26.76-140.762,26.76c-72.008,0-141.56-19.87-197.786-52.684 C57.19,337.461,53.542,342.711,58.008,346.364L58.008,346.364z"/>
                  </g>
                </svg>
              </div>
            </a>
          </div>
          <div>
            <a href="../../terms.html">
              <p class="footer__right-link" tabindex="0">Terms & Conditions</p>
            </a>
            <p class="footer__right-link">Tax ID: 82-2301559</p>
            <p class="footer__right-link">Copyright
              <script>document.write(new Date().getFullYear())</script> PublicNTP, Inc.
            </p>
          </div>
        </div>
        <div class="node-clear"></div>
      </div>
    </footer>
  </div>

  <div class="privacy">
    <div class="privacy__wrapper">
      <h3 class="privacy__title">PublicNTP Consent Manager</h3>
      <p class="privacy__text">Like many companies, PublicNTP uses cookies and other technologies, some of which are
        essential
        to make our website work. Others help us improve services and the user experience or to advertise. In using our
        site,
        you consent to the use of these cookies and other technologies. <a href="/terms.html" class="privacy__link">Learn
          more
        </a> about cookies and other technologies we use.</p>

      <div class="privacy__close"></div>
    </div>
  </div>
  <script defer src="../../js/main.js"></script>
</body>

</html>
